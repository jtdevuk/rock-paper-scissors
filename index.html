<!DOCTYPE html>
<html>
    <script>

                
        let computerPlay = function() {
            let result = Math.floor(Math.random() * 3 );
        if (result == 0) {
            return "rock";        
        } else if (result == 1) {
            return "paper";            
        } else {
            return "scissors";
            }
        }
       
        function game(playerSelection) {

            let i;
            let score = 0;            

            for (i = 0; i < 5; i++) {

                playRound(playerSelection, computerPlay());

                function playRound(playerSelection, computerSelection) {

                    const playerLowerCase = playerSelection.toLowerCase();
                    
                    let roundWinner;
                    
                    if (playerLowerCase == "rock") {
                        if (computerSelection == "rock") {
                            roundWinner = "Draw! You both chose Rock";
                        } else if (computerSelection == "paper") {
                            roundWinner = "You lose! Paper beats Rock";
                        } else {                            
                            roundWinner = "You win! Rock beats Scissors!"
                            score+=1;
                        }

                    } else if (playerLowerCase == "paper") {
                        if (computerSelection == "paper") {
                            roundWinner = "Draw! you both chose Paper";
                        } else if (computerSelection == "scissors") {
                            roundWinner = "You lose! Scissors beats Paper";
                        } else {                            
                            roundWinner = "You win! Paper beats Rock!"
                            score+=1;
                            
                        }

                    } else if (playerLowerCase == "scissors") {
                        if (computerSelection == "scissors") {
                            roundWinner = "Draw! you both chose Scissors";
                        } else if (computerSelection == "rock") {
                            roundWinner = "You lose! Rock beats Scissors";
                        } else {                            
                            roundWinner = "You win! Scissors beats Paper!"
                            score+=1;
                            
                        }

                    } else {

                        return "Please enter Rock, Paper, or Scissors";

                    }

                    console.group(roundWinner);                    
                }                
            }

            if (score >= 3) {
                console.log(`Congratulations! you won a total of ${score} games and are the round winner.`)
            } else {
                console.log(`Sorry, but you only won ${score} games and you lost this round. Better luck next time!`)
            }
            
        }

     function getSelection() {

        playerSelection = prompt("Enter a choice: Rock, Paper, or Scissors");

        if (playerSelection == "rock" || playerSelection == "paper" || playerSelection == "scissors") {
            game(playerSelection);
        } else {
            alert("Please enter Rock, Paper, or Scissors!");
            getSelection();
        }
     }

     getSelection();     

    </script>
</html>